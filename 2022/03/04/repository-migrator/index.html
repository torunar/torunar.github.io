<!Doctype html>
<html lang="ru-RU">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>–ü–µ—Ä–µ–Ω–æ—Å–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å BitBucket –Ω–∞ GitHub</title>
<meta property="og:title" content="–ü–µ—Ä–µ–Ω–æ—Å–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å BitBucket –Ω–∞ GitHub" />
<meta property="og:description" content="# /usr/bin/torunar :: " />
<meta property="twitter:card" content="summary" />
<meta property="twitter:title" content="–ü–µ—Ä–µ–Ω–æ—Å–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å BitBucket –Ω–∞ GitHub" />
<meta property="twitter:description" content="# /usr/bin/torunar :: " />
    <link rel="stylesheet" href="https://torunar.github.io/css/main.css?v=4.0.0" />
    <link rel="alternate" type="application/rss+xml" title="# /usr/bin/torunar" href="https://torunar.github.io/rss.xml" />
    <link rel="canonical" href="https://torunar.github.io/2022/03/04/repository-migrator/" />
</head>
<body>
<header class="header">
    <div class="container">
        <h1 class="header__title">
            <a class="header__home-link" href="https://torunar.github.io/"># /usr/bin/torunar</a>
            <small class="header__description"></small>
        </h1>
    </div>
</header>
    <div class="container">
        <div class="post">
            <div class="primary-wrapper">
                <div class="post__title-wrapper">
                    <h1 class="post__title">–ü–µ—Ä–µ–Ω–æ—Å–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å BitBucket –Ω–∞ GitHub</h1>
                    <small class="post__date">2022/03/04</small>
                </div>
                <div class="post__preview">
                    
<p>–í –ø—Ä–æ—à–ª–æ–º –≥–æ–¥—É —è –ø–µ—Ä–µ–µ–∑–∂–∞–ª —Å –æ–¥–Ω–æ–π VCS –Ω–∞ –¥—Ä—É–≥—É—é. –†–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é, –∫–∞–∫ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å BitBucket –Ω–∞ GitHub, –∏ –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø –≤—Å–µ—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤.</p>
                </div>
                <div class="post__content">
                    
<p>–î–æ–ª–≥–æ–µ –≤—Ä–µ–º—è BitBucket –±—ã–ª –º–æ–µ–π –æ—Å–Ω–æ–≤–Ω–æ–π VCS: –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Mercurial –∑–∞–∫—Ä—ã–≤–∞–ª–∏ –≤—Å–µ —Ä–∞–±–æ—á–∏–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏.
–°–æ –≤—Ä–µ–º–µ–Ω–µ–º GitHub'–∞ –ø–æ —Ä–∞–±–æ—Ç–µ —Å—Ç–∞–Ω–æ–≤–∏–ª–æ—Å—å –≤—Å–µ –±–æ–ª—å—à–µ, –∞ –ø–æ—Ç–æ–º —Ç—É–¥–∞ –∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø–æ–¥—ä–µ—Ö–∞–ª–∏, –∏ CI/CD –∑–∞–≤–µ–∑–ª–∏ ‚Äî —Å—Ç–∞–ª–æ –≤–æ–æ–±—â–µ —Ö–æ—Ä–æ—à–æ, –Ω–∞–¥–æ –±—ã–ª–æ –ø–µ—Ä–µ–µ–∑–∂–∞—Ç—å.
–ù–∞ BitBucket —É –º–µ–Ω—è –∫ —Ç–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å –æ–∫–æ–ª–æ 40 –ø—Ä–æ–µ–∫—Ç–æ–≤ —Ä–∞–∑–Ω–æ–π —Å—Ç–µ–ø–µ–Ω–∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏, —Ä—É–∫–∞–º–∏ –∏—Ö –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã, –Ω–æ –¥–æ–ª–≥–æ.</p>

<p>–ù–∞–ø–∏—Å–∞–ª —É—Ç–∏–ª–∏—Ç—É –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–Ω–æ—Å–∞, –∫–æ—Ç–æ—Ä–∞—è —á–µ—Ä–µ–∑ API –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö –≤ –æ–¥–Ω–æ–π VCS, —Å–æ–∑–¥–∞–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤ –¥—Ä—É–≥–æ–π VSC –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ.</p>

<p><a href="https://github.com/torunar/repository-migrator">üëâ <strong>torunar/repository-migrator</strong></a></p>

<p>–í–Ω—É—Ç—Ä–∏ –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ —Å–∞–º—É—é —á–∞—Å—Ç–æ —É–ø–æ–º–∏–Ω–∞–µ–º—É—é –æ–ø—Ü–∏—é –∫–æ–º–∞–Ω–¥—ã <code>git clone</code> ‚Äî <code>--mirror</code>.
–ü—Ä–∏ –µ–µ –≤–∫–ª—é—á–µ–Ω–∏–∏ –±—É–¥—É—Ç —Å–≥—Ä—É–∂–µ–Ω—ã –≤—Å–µ –≤–µ—Ç–∫–∏ –∏ —Ç–µ–≥–∏ ‚Äî –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏–∑ VCS.</p>

<h2>–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Ç–∏–ª–∏—Ç—É</h2>

<ul>
<li>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.</li>
<li>–°–æ–∑–¥–∞–π—Ç–µ app password –¥–ª—è BitBucket —Å –ø—Ä–∞–≤–∞–º–∏ <code>Repositories: Read</code>, <code>Repositories: Write</code> –∏ <code>Repositories: Admin</code>: <a href="https://bitbucket.org/account/settings/app-passwords/new">bitbucket.org/account/settings/app-passwords/new</a>.</li>
<li>–°–æ–∑–¥–∞–π—Ç–µ personal token –¥–ª—è GitHub —Å –ø—Ä–∞–≤–∞–º–∏ <code>repo</code>: <a href="https://github.com/settings/tokens/new">github.com/settings/tokens/new</a>.</li>
<li><p>–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:</p>

<pre><code>$ git clone git@github.com:torunar/repository-migrator.git
</code></pre></li>
<li><p>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:</p>

<pre><code>$ cd repository-migrator
$ pip3 install -r requirements.txt
</code></pre></li>
</ul>

<h2>–ö–∞–∫ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å BitBucket –Ω–∞ GitHub</h2>

<pre><code>$ python3 repository-migrator \
    --input=bitbucket \
    --output=github \
    --bitbucket-login='–ù–∏–∫ –Ω–∞ BitBucket' \ 
    --bitbucket-password='App password –¥–ª—è BitBucket' \
    --github-login='–ù–∏–∫ –Ω–∞ GitHub' \
    --github-password='Personal access token –¥–ª—è GitHub'
</code></pre>

<h2>–ö–∞–∫ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å GitHub –Ω–∞ BitBucket</h2>

<pre><code>$ python3 repository-migrator \
    --input=github \
    --output=bitbucket \
    --bitbucket-login='–ù–∏–∫ –Ω–∞ BitBucket' \ 
    --bitbucket-password='App password –¥–ª—è BitBucket' \
    --github-login='–ù–∏–∫ –Ω–∞ GitHub' \
    --github-password='Personal access token –¥–ª—è GitHub'
</code></pre>

<h2>–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ —Å GitHub</h2>

<pre><code>$ python3 repository-migrator \
    --input=github \
    --output=local \
    --github-login='–ù–∏–∫ –Ω–∞ GitHub' \
    --github-password='Personal access token –¥–ª—è GitHub' \
    --storage-path='–ü–∞–ø–∫–∞ –¥–ª—è –±—ç–∫–∞–ø–æ–≤ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–∞ –∑–∞—Ä–∞–Ω–µ–µ)'
</code></pre>

<h2>–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ —Å BitBucket</h2>

<pre><code>$ python3 repository-migrator \
    --input=bitbucket \
    --output=local \
    --bitbucket-login='–ù–∏–∫ –Ω–∞ BitBucket' \ 
    --bitbucket-password='App password –¥–ª—è BitBucket' \
    --storage-path='–ü–∞–ø–∫–∞ –¥–ª—è –±—ç–∫–∞–ø–æ–≤ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–∞ –∑–∞—Ä–∞–Ω–µ–µ)'
</code></pre>

<h2>–ö–∞–∫ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–ø–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤</h2>

<p>–ï—Å–ª–∏ –ø–æ—Å–ª–µ –±—ç–∫–∞–ø–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏—Ö –Ω—É–∂–Ω–æ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–Ω–æ–≤–æ –≤—ã–∫–∞—á–∏–≤–∞—Ç—å –≤–µ—Å—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É:</p>

<pre><code>$ git remote update
</code></pre>

<p>–ï—Å–ª–∏ –≤—Å–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ–¥–Ω–æ–π –ø–∞–ø–∫–µ <code>/directory/with/backup</code>, –∏—Ö –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–∞–∫:</p>

<pre><code>$ for REPO_DIR in $(find /directory/with/backups -d 1 -type d); do 
    git -C $REPO_DIR remote update
done
</code></pre>
                </div>
            </div>
            
        </div>
    </div>
<footer class="footer">
    <div class="container">
        <div class="footer__links">
            <a class="rss" href="/rss.xml">RSS</a> <a class="github" href="https://github.com/torunar/">GitHub</a>
        </div>
    </div>
</footer>
</body>
</html>