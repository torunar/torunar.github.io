<!Doctype html>
<html lang="ru-RU">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>«Ягодка»: самый вкусный пульт для переключения треков в плеере</title>
<meta property="og:title" content="«Ягодка»: самый вкусный пульт для переключения треков в плеере" />
<meta property="og:description" content="# /usr/bin/torunar :: " />
<meta property="twitter:card" content="summary" />
<meta property="twitter:title" content="«Ягодка»: самый вкусный пульт для переключения треков в плеере" />
<meta property="twitter:description" content="# /usr/bin/torunar :: " />
    <link rel="stylesheet" href="https://torunar.github.io/css/main.css?v=3.3.1" />
    <link rel="alternate" type="application/rss+xml" title="# /usr/bin/torunar" href="https://torunar.github.io/rss.xml" />
    <link rel="canonical" href="https://torunar.github.io/2018/10/24/yagodka/" />
</head>
<body>
<header class="header">
    <div class="container">
        <h1 class="header__title">
            <a class="header__home-link" href="https://torunar.github.io/"># /usr/bin/torunar</a>
            <small class="header__description"></small>
        </h1>
    </div>
</header>
    <div class="container">
        <div class="post">
            <div class="primary-wrapper">
                <div class="post__title-wrapper">
                    <h1 class="post__title">«Ягодка»: самый вкусный пульт для переключения треков в плеере</h1>
                    <small class="post__date">2018/10/24</small>
                </div>
                <div class="post__preview">
                    
<p><img src="https://torunar.github.io/2018/10/24/yagodka/img/cover.jpg" alt="" title=""></p>
                </div>
                <div class="post__content">
                    
<p>Наш андерграундный рабочий кавербенд Plastic Satellites уже который месяц выживает без живого ударника.
Периодически поднимаем вопрос о покупке драм-машины, а пока играем под минусы, сделанные из midi-файлов в Reaper.</p>

<p>На носу выступление: переключать руками партии ударных между треками совсем несолидно, поэтому запилил пульт-педальку, чтобы делать это с ноги.</p>

<p><img src="https://torunar.github.io/2018/10/24/yagodka//img/duke.png" alt="Duke Nukem Mighty Foot" title="Все становится лучше, если делать это с ноги!"></p>

<h2>Главные герои</h2>

<p><img src="https://torunar.github.io/2018/10/24/yagodka//img/01.jpg" alt="Кнопки, Ардуинка и коробочка" title=""></p>

<p>Для пульта мне понадобились:</p>

<ul>
<li><p>Кнопка с фиксацией нажатия, три штуки.</p>

<p>Брал кнопки гитарных педалей для полной аутентичности, но цена кусается: 150 ₽ за штуку в местном радиомагазине.
Их можно заменить на любые кнопки с фиксацией.</p></li>
<li><p>Arduino Leonardo.</p></li>
<li><p>Корпус.</p>

<p>Я для своих целей приспособил жестяную коробку из-под леденцов, но подойдет любая тара с жесткими стенками и крышкой.
Сначала я думал покрасить ее в какой-нибудь нейтральный цвет (черный или очень черный), но отказался от этой идеи на полпути — так педаль сохранила свой ягодный внешний вид.</p></li>
<li><p>Всякая мелочь для разводки проводов: кабельные стяжки, канифоль, припой.</p></li>
</ul>

<h2>Кузовные работы</h2>

<p>Самым сложным было прорубить отверстия в корпусе под кнопки и кабель Ардуинки.
Сверла по металлу диаметром под сантиметр дома не нашлось, поэтому я использовал шило, канцелярский нож (удивительно хорошо режет жесть) и круглый напильник для стачивания заусенцев с краев.
С чистовой обработкой особо не заморачивался, края отверстий все равно закрыты шайбами переключателей:</p>

<p><img src="https://torunar.github.io/2018/10/24/yagodka//img/02.jpg" alt="Отверстия под фут-свитчи" title=""></p>

<p>После разработки гнезд вкрутил в них переключатели и хорошенько затянул шайбы, чтобы кнопки не гуляли:</p>

<p><img src="https://torunar.github.io/2018/10/24/yagodka//img/03.jpg" alt="Фут-свитчи в гнездах" title=""></p>

<p>Спаял и вывел общим проводом землю, на каждый из переключателей напаял перемычку:</p>

<p><img src="https://torunar.github.io/2018/10/24/yagodka//img/04.jpg" alt="Разводка проводов по кнопкам" title=""></p>

<p>Подвел перемычки в соответствующие гнезда на Ардуинке:</p>

<p><img src="https://torunar.github.io/2018/10/24/yagodka//img/05.jpg" alt="Подключение к плате" title=""></p>

<h2>Запуск</h2>

<p>Все минусовки мы храним в Google Drive, поэтому управление сделано для интерфейса местного аудиоплеера: нажатие кнопок на педали посылает на подключенный компьютер события клавиш «влево», «вправо» и «пробел».
Также реализована возможность работы с медиа-клавишами «назад», «вперед» и «пауза/воспроизведение».</p>

<p>В планах есть установка дополнительного тумблера для переключения между отправкой медиа- и обычных клавиш.</p>

<p>Скетч сделал на основе <a href="https://torunar.github.io/2018/07/01/arduinopad/">предыдущего эксперимента</a> с Leonardo, но период установления сигнала пришлось выставить огромный — в полсекунды: одна из кнопок выдает сильный дребезг контактов.</p>

<p><a href="https://github.com/torunar/yagodka/src/">Полный код скетча на Bitbucket</a>.</p>

<h2>Полевые испытания</h2>

<iframe width="100%"
        height="415"
        src="https://www.youtube-nocookie.com/embed/7wtQgEsVEmQ?rel=0"
        frameborder="0"
        allow="autoplay; encrypted-media"
        allowfullscreen
></iframe>
                </div>
            </div>
            
        </div>
    </div>
<footer class="footer">
    <div class="container">
        <div class="footer__links">
            <a class="rss" href="/rss.xml">RSS</a> <a class="github" href="https://github.com/torunar/">GitHub</a>
        </div>
    </div>
</footer>
</body>
</html>